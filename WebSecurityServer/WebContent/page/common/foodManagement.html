<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>食品管理</title>
	<link rel="stylesheet" type="text/css" href="../../css/head.css">
	<link rel="stylesheet" href="../../css/jqx.base.css" type="text/css" />
	
	<script type="text/javascript" src="../../js/jquery-1.10.2.js"></script>
	<script type="text/javascript" src="../../js/AppUtil.js"></script>
	
    <script type="text/javascript" src="../../js/widget/jqxcore.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxdata.js"></script>
    
    <script type="text/javascript" src="../../js/widget/jqxbuttons.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxdropdownlist.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxlistbox.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxscrollbar.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxmenu.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxgrid.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxgrid.filter.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxgrid.sort.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxgrid.pager.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxgrid.selection.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxgrid.grouping.js"></script> 
    <script type="text/javascript" src="../../js/widget/jqxgrid.columnsresize.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxgrid.columnsreorder.js"></script> 
    
    <script type="text/javascript" src="../../js/widget/jqxnumberinput.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxwindow.js"></script>
    <script type="text/javascript" src="../../js/widget/jqxinput.js"></script>
    
    <script type="text/javascript" src="../../js/widget/gettheme.js"></script>
    
    <script type="text/javascript">
	   	function groupByCategory(flag){
		   	if(flag){
		   		$("#jqxgrid").jqxGrid('addgroup', 'category');
		   	} else {
		   		$("#jqxgrid").jqxGrid('removegroup', 'category');
		   	}
	   	}
    
    	$(document).ready(function () {
	    	
	    	var data = [];
	    	var categories = ['中餐', '西餐', '点心'];
	    	for(var i=0; i < 30; i++){
	    		var rowdata = {};
	    		rowdata.name= "i"+i;
	    		rowdata.category = categories[i%3];
	    		rowdata.desc = "i" + i + "'desc";
	    		rowdata.price = i;
	    		data.push(rowdata);
	    	}
	    	
	    	var source = {
    			localdata : data,
    			datatype: "array"
	    	}
	    	

	    	$("#jqxgrid").jqxGrid(
   			{
	    			height: 600,
	    		    source: source,
	    		    columns: [
	    		        { text: '菜名', datafield: 'name', width: 250 },
	    		        { text: '类别', datafield: 'category', width: 100 },
	    		        { text: '描述', datafield: 'desc' },
	    		        { text: '价格', datafield: 'price' }
	    		    ],
	    		    groupable: true,
	    		    showgroupsheader : false,
    		});
	    	
	    	$("#groupbtn").on('click', function(){
	    		if($("#groupbtn")[0].value == "按分类显示"){
	    			groupByCategory(true);
	    			$("#groupbtn")[0].value = "显示全部";
	    		} else {
	    			groupByCategory(false);
	    			$("#groupbtn")[0].value = "按分类显示";
	    		}
	    	});
	    });
	    
    </script>
</head>
	
<body class='default'>
	<div id="content">
	   	<div id='jqxWidget' style="font-size: 13px; font-family: Verdana; float: left;">
        	<div id="jqxgrid"></div>
    	</div>
   		<table>
    		<tr>
				<td>
			    	<div id="controlbar">
						<ul>
							<li class="J_nav_1 ">
								<div>
				                	<input id="groupbtn" type="button" value="按分类显示" />
				            	</div>
							</li>
							
							<li class="J_nav_1 ">
								<div>
				                	<input id="addbtn" type="button" value="新增" />
				            	</div>
							</li>
							<li class="J_nav_1 ">
								<div>
				                	<input id="updatebtn" type="button" value="修改" />
				            	</div>
							</li>
						</ul>
			    	</div>
	    		</td>
    		</tr>
   		</table>
	</div>
</body>
</html>